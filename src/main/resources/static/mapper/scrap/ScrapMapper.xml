<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.laonworks502.team1st.dao.scrap.ScrapDao">

    <!--[스크랩 검색]-->
    <select id="searchScrap" resultType="int" parameterType="com.laonworks502.team1st.model.scrap.ScrapBean">
        select count(*) from scraps where user_email = #{user_email} and no = #{no}
    </select>

    <!--[스크랩 삭제]-->
    <delete id="delectScrap">
        delete from scraps where user_email = #{user_email} and no = #{no}
    </delete>

    <!--[스크랩 생성]-->
    <insert id="insertScrap" parameterType="Map">
        insert into scraps values (#{user_email},#{no},sysdate())
    </insert>

    <!--[스크랩 리스트)총 리스트 수]-->
    <select id="getCount" resultType="int" parameterType="com.laonworks502.team1st.model.scrap.ScrapBean">
        select count(*) from scrabs where user_email = #{user_email}
    </select>

    <!--[스크랩 전체 출력 리스트]-->
    <select id="listScrap" resultType="com.laonworks502.team1st.model.scrap.ScrapBean" parameterType="com.laonworks502.team1st.model.scrap.ScrapBean">
        select * from posts,scraps where posts.no = scraps.no and email =#{email} and board_id = #{board_id} order by scraps.date desc
            limit #{startPostNo}, #{PAGES_COUNT}
    </select>

</mapper>